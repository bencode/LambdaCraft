{:path [], :nextjournal/value {:package :directory, :toc {:path [], :nextjournal/value [{:title "SICM 1.4 - 计算作用量", :emoji nil, :path "#sicm-1.4---计算作用量", :items [{:title "核心概念", :emoji nil, :path "#核心概念", :items []} {:title "一、自由粒子的拉格朗日量", :emoji nil, :path "#一、自由粒子的拉格朗日量", :items [{:title "实现拉格朗日量函数", :emoji nil, :path "#实现拉格朗日量函数", :items []}]} {:title "二、坐标路径与局域元组", :emoji nil, :path "#二、坐标路径与局域元组", :items [{:title "Emmy 中的元组 (Tuple)", :emoji nil, :path "#emmy-中的元组-(tuple)", :items []} {:title "符号路径函数", :emoji nil, :path "#符号路径函数", :items []} {:title "Gamma 函数构造局域元组", :emoji nil, :path "#gamma-函数构造局域元组", :items []} {:title "拉格朗日力学的计算框架", :emoji nil, :path "#拉格朗日力学的计算框架", :items []}]} {:title "三、计算作用量", :emoji nil, :path "#三、计算作用量", :items [{:title "Lagrangian-action 函数", :emoji nil, :path "#lagrangian-action-函数", :items []} {:title "验证：直线路径的作用量", :emoji nil, :path "#验证：直线路径的作用量", :items []}]} {:title "四、验证最小作用量原理", :emoji nil, :path "#四、验证最小作用量原理", :items [{:title "构造变分路径", :emoji nil, :path "#构造变分路径", :items []} {:title "实现 make-eta 函数", :emoji nil, :path "#实现-make-eta-函数", :items []} {:title "实现变分作用量函数", :emoji nil, :path "#实现变分作用量函数", :items []} {:title "数值验证：直线路径是极小值", :emoji nil, :path "#数值验证：直线路径是极小值", :items []} {:title "用数值方法寻找最优 ε", :emoji nil, :path "#用数值方法寻找最优-ε", :items []}]} {:title "五、谐振子（第一个非平凡系统）", :emoji nil, :path "#五、谐振子（第一个非平凡系统）", :items [{:title "谐振子的物理模型", :emoji nil, :path "#谐振子的物理模型", :items []} {:title "实现谐振子拉格朗日量", :emoji nil, :path "#实现谐振子拉格朗日量", :items []} {:title "谐振子的解析解", :emoji nil, :path "#谐振子的解析解", :items []} {:title "特例：m = 1, k = 1", :emoji nil, :path "#特例：m-=-1,-k-=-1", :items []}]} {:title "六、数值求解：寻找使作用量最小的轨迹", :emoji nil, :path "#六、数值求解：寻找使作用量最小的轨迹", :items [{:title "核心思想：参数化路径族", :emoji nil, :path "#核心思想：参数化路径族", :items []} {:title "拉格朗日插值多项式", :emoji nil, :path "#拉格朗日插值多项式", :items []} {:title "使用 Emmy 的 make-path 函数", :emoji nil, :path "#使用-emmy-的-make-path-函数", :items []} {:title "使用 Emmy 的 find-path 函数", :emoji nil, :path "#使用-emmy-的-find-path-函数", :items []} {:title "用谐振子验证 find-path", :emoji nil, :path "#用谐振子验证-find-path", :items []}]}]}], :nextjournal/render-opts {:toc-visibility true, :set-hash? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/toc-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.navbar/render-items], :hash "5dtesrAmYqLZQQHSMEfFTNpmLtY4nC"}}, :sidenotes? false, :toc-visibility true, :atom-var-name->state {}, :ns #clerk/render-fn+opts [{:eval true} (ns pages.sicm.sicm-1-4)], :file "pages/sicm/sicm-1-4.clj", :scope pages.sicm.sicm-1-4, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "./../../../"} "Index"] [:span.mx-2 "•"]] [:span "Generated with " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://clerk.vision"} "Clerk"] [:<> " from " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://github.com/bencode/LambdaCraft/blob/4209f011bdecf80819f19d354d2407c07214da50/apps/web/pages/sicm/sicm-1-4.clj"} "pages/sicm/sicm-1-4.clj" [:<> "@" [:span.tabular-nums "4209f01"]]]]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}, :open-graph {:type "article:clerk", :title "SICM 1.4 - 计算作用量", :description "拉格朗日量 (Lagrangian)： 一个描述力学系统的函数 L(t, q, v)，其中"}, :title "SICM 1.4 - 计算作用量", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drQbnEMFVxarAX7x9WBCzLyBmiCdx"} ["h1" {:id "sicm-1.4---计算作用量"} [:<> "SICM 1.4 - 计算作用量"]] ["h2" {:id "核心概念"} [:<> "核心概念"]] [:p [:strong [:<> "拉格朗日量 (Lagrangian)"]] [:<> "："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "一个描述力学系统的函数 L(t, q, v)，其中"]] [:ul [:li [:<> [:<> "t: 时间"]]] [:li [:<> [:<> "q: 广义坐标（位置）"]]] [:li [:<> [:<> "v: 广义速度"]]]] [:p [:strong [:<> "作用量 (Action)"]] [:<> "："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "拉格朗日量沿路径的时间积分"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "S[q] = ∫(t₁ to t₂) L(t, q(t), Dq(t)) dt"]] [:p [:strong [:<> "最小作用量原理"]] [:<> "："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "物理系统的真实路径是使作用量取得极值（通常是极小值）的路径"]] [:hr] ["h2" {:id "一、自由粒子的拉格朗日量"} [:<> "一、自由粒子的拉格朗日量"]] [:p [:<> "对于质量为 m 的自由粒子，欧拉和拉格朗日发现其拉格朗日量就是动能："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "L(t, x, v) = 1/2 m v² = 1/2 m (v · v)"]] [:p [:<> "根据最小作用量原理："]] [:ul [:li [:<> [:<> "自由粒子沿直线匀速运动"]]] [:li [:<> [:<> "直线路径的作用量小于任何其他连接相同端点的路径"]]]] [:p [:<> "用 TeX 渲染："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drQbnEMFVxarAX7x9WBCzLyBmiCdx"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value "L(t, x, v) = \\frac{1}{2} m (v \\cdot v) = \\frac{1}{2} m (v_x^2 + v_y^2 + v_z^2)", :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/katex-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-katex], :hash "5du5zSBEqsKch8YdhD73mcy7u7N26P"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtp8s2gpmkAMGMSdHapeXdJXa3Kvb-result"}}, :nextjournal/blob-id "5ds6uuFmPm1V65Gq3pWycoCaUkT9Vv"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtp8s2gpmkAMGMSdHapeXdJXa3Kvb-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5ds15n54dBPg6UUMiquFfc9UovcjYe"} ["h3" {:id "实现拉格朗日量函数"} [:<> "实现拉格朗日量函数"]] [:p [:<> "原 Scheme 代码："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(define ((L-free-particle mass) local)\n  (let ((v (velocity local)))\n    (* 1/2 mass (dot-product v v))))", :nextjournal/render-opts {:language "scheme"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:p [:<> "Emmy/Clojure 实现："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5ds15n54dBPg6UUMiquFfc9UovcjYe"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn L-free-particle\n  \"自由粒子的拉格朗日量\n\n  参数：\n  - mass: 粒子质量\n\n  返回：\n  - 接受局域元组 (local tuple) 的函数，返回拉格朗日量的值\"\n  [mass]\n  (fn [local]\n    (let [v (velocity local)]\n      (* 1/2 mass (dot-product v v)))))", :nextjournal/render-opts {:loc {:line 62, :end-line 73, :column 1, :end-column 40}, :id "pages.sicm.sicm-1-4/L-free-particle-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[pages.sicm.sicm_1_4$L_free_particle 0x2ddfca7f \"pages.sicm.sicm_1_4$L_free_particle@2ddfca7f\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/L-free-particle-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/L-free-particle-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dtQr8Jc1KQK8wJWA4SecUL8HUUcWe"} [:hr] ["h2" {:id "二、坐标路径与局域元组"} [:<> "二、坐标路径与局域元组"]] ["h3" {:id "emmy-中的元组-(tuple)"} [:<> "Emmy 中的元组 (Tuple)"]] [:p [:strong [:code [:<> "up"]] [:<> " 函数"]] [:<> "：创建协变向量（上标向量）"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "在 Emmy 中，"] [:code [:<> "up"]] [:<> " 构造一个特殊的数据结构，用于表示位置、速度等物理量。"]] [:p [:<> "实现原理："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(up a b c) => 创建一个协变元组 [a b c]", :nextjournal/render-opts {:language "clojure"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:p [:<> "示例："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dtQr8Jc1KQK8wJWA4SecUL8HUUcWe"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(up 1 2 3)", :nextjournal/render-opts {:loc {:line 90, :end-line 90, :column 1, :end-column 11}, :id "pages.sicm.sicm-1-4/anon-expr-5duCAxtFfywabBy8Zx6x7T6XmgZZ4T-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 1], :nextjournal/value 2, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 2], :nextjournal/value 3, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5duCAxtFfywabBy8Zx6x7T6XmgZZ4T-result-1"}}, :nextjournal/blob-id "5drgYigA81h21uN3sqK3xJiGLaXYxW"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5duCAxtFfywabBy8Zx6x7T6XmgZZ4T-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dtVCF2WQQ7pvm3zrLwngZhuudz5A4"} [:p [:<> "=> (up 1 2 3)  表示三维向量"]] [:p [:code [:<> "up"]] [:<> " 元组可以嵌套，用于表示结构化数据"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dtVCF2WQQ7pvm3zrLwngZhuudz5A4"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(up 't (up 'x 'y 'z) (up 'vx 'vy 'vz))", :nextjournal/render-opts {:loc {:line 94, :end-line 94, :column 1, :end-column 39}, :id "pages.sicm.sicm-1-4/anon-expr-5ds175XGyRAKXZ4DcRwp84UVCEjRUv-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value t, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value x, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1 1], :nextjournal/value y, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1 2], :nextjournal/value z, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value vx, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 2 1], :nextjournal/value vy, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 2 2], :nextjournal/value vz, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")" ")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5ds175XGyRAKXZ4DcRwp84UVCEjRUv-result-1"}}, :nextjournal/blob-id "5drNPNvHw4URwfgQ2LSXiio5yxjmWW"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5ds175XGyRAKXZ4DcRwp84UVCEjRUv-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dsa8LsZQxoBK6MQYFeJdbtkL7kDEy"} [:p [:<> "=> 局域元组：(时间, 位置向量, 速度向量)"]] [:p [:strong [:code [:<> "velocity"]] [:<> " 函数"]] [:<> "：从局域元组中提取速度"]] [:p [:<> "Emmy 中的实现："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(defn velocity [local]\n  {:pre [(up? local) (> (count local) 2)]}\n  (nth local 2))", :nextjournal/render-opts {:language "clojure"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:p [:<> "解释："]] [:ul [:li [:<> [:code [:<> "local"]] [:<> " 是一个局域元组，格式为 (up t q v ...)"]]] [:li [:<> [:code [:<> "(nth local 2)"]] [:<> " 取第 3 个元素（索引从 0 开始）"]]] [:li [:<> [:<> "按照约定：local[0]=时间, local[1]=位置, local[2]=速度"]]]] [:p [:<> "示例："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dsa8LsZQxoBK6MQYFeJdbtkL7kDEy"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def sample-local (up 't (up 'x 'y 'z) (up 'vx 'vy 'vz)))", :nextjournal/render-opts {:loc {:line 112, :end-line 112, :column 1, :end-column 58}, :id "pages.sicm.sicm-1-4/sample-local-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value t, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value x, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1 1], :nextjournal/value y, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1 2], :nextjournal/value z, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value vx, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 2 1], :nextjournal/value vy, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 2 2], :nextjournal/value vz, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")" ")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/sample-local-result-1"}}, :nextjournal/blob-id "5drhrHKJfAmpzYTVbWaPUKXg3WhdSy"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/sample-local-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "sample-local", :nextjournal/render-opts {:loc {:line 113, :end-line 113, :column 1, :end-column 13}, :id "pages.sicm.sicm-1-4/anon-expr-5draGzjiKU7cLHQQrYmJbuHR38z39f-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value t, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value x, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1 1], :nextjournal/value y, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1 2], :nextjournal/value z, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value vx, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 2 1], :nextjournal/value vy, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 2 2], :nextjournal/value vz, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")" ")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5draGzjiKU7cLHQQrYmJbuHR38z39f-result-1"}}, :nextjournal/blob-id "5dsmrq8PphMwuqkR9YgRxieC76tWSp"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5draGzjiKU7cLHQQrYmJbuHR38z39f-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dsZqhJQjvjw4w2hTuKeHfESusxRML"} [:p [:<> "=> (up t (up x y z) (up vx vy vz))"]] [:p [:<> "提取速度分量"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dsZqhJQjvjw4w2hTuKeHfESusxRML"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(velocity sample-local)", :nextjournal/render-opts {:loc {:line 117, :end-line 117, :column 1, :end-column 24}, :id "pages.sicm.sicm-1-4/anon-expr-5ds2UAi8xnyDgpJeJScJAonJ4aet7G-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value vx, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1], :nextjournal/value vy, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 2], :nextjournal/value vz, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5ds2UAi8xnyDgpJeJScJAonJ4aet7G-result-1"}}, :nextjournal/blob-id "5drbcQEbGnvW9w7Hc5e8Mq1XHQvb34"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5ds2UAi8xnyDgpJeJScJAonJ4aet7G-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dr5jYkttv7pJRMx4tg84wcdEMPaWC"} [:p [:<> "=> (up vx vy vz)"]] [:p [:<> "提取位置分量（使用 coordinate 函数，类似实现）"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dr5jYkttv7pJRMx4tg84wcdEMPaWC"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(coordinate sample-local)", :nextjournal/render-opts {:loc {:line 121, :end-line 121, :column 1, :end-column 26}, :id "pages.sicm.sicm-1-4/anon-expr-5drBzNKMQ55q1j156SssmmjF53A7NU-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value x, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1], :nextjournal/value y, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 2], :nextjournal/value z, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drBzNKMQ55q1j156SssmmjF53A7NU-result-1"}}, :nextjournal/blob-id "5drbM6QZt2VBsXjAFHWQD4RztKz1ug"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drBzNKMQ55q1j156SssmmjF53A7NU-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dsnK4FSXC8WFzBqnsYnzE7vn2FJa7"} [:p [:<> "=> (up x y z)"]] [:p [:strong [:<> "为什么需要这些抽象？"]]] [:ol [:li [:<> [:strong [:<> "坐标无关性"]] [:<> "：不关心是笛卡尔坐标还是极坐标"]]] [:li [:<> [:strong [:<> "类型安全"]] [:<> "：通过元组结构确保数据正确"]]] [:li [:<> [:strong [:<> "自动微分"]] [:<> "：Emmy 可以对这些结构自动求导"]]]] ["h3" {:id "符号路径函数"} [:<> "符号路径函数"]] [:p [:<> "在 SICM 中，路径是将时间映射到坐标的函数。"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "对于三维空间中的粒子：q(t) = (x(t), y(t), z(t))"]] [:p [:<> "原 Scheme 代码："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(define q\n  (up (literal-function 'x)\n      (literal-function 'y)\n      (literal-function 'z)))", :nextjournal/render-opts {:language "scheme"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:p [:<> "Emmy/Clojure 实现："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dsnK4FSXC8WFzBqnsYnzE7vn2FJa7"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def q\n  \"符号坐标路径函数：将时间映射到三维坐标\"\n  (up (literal-function 'x)\n      (literal-function 'y)\n      (literal-function 'z)))", :nextjournal/render-opts {:loc {:line 143, :end-line 147, :column 1, :end-column 30}, :id "pages.sicm.sicm-1-4/q-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value "x", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}} {:path [1 1], :nextjournal/value "y", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}} {:path [1 2], :nextjournal/value "z", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/q-result-1"}}, :nextjournal/blob-id "5dqoyqMcAEcRqns74mgLjeLs6NDLr3"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/q-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drCFPAHBVn3j3xuzF8MzkcDRzL1zW"} [:p [:<> "测试：对符号时间 't 求值"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drCFPAHBVn3j3xuzF8MzkcDRzL1zW"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(q 't)", :nextjournal/render-opts {:loc {:line 150, :end-line 150, :column 1, :end-column 7}, :id "pages.sicm.sicm-1-4/anon-expr-5ds13LQnLy4JBhdcB8mcTbkSXo5pEP-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value "(x t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}} {:path [1 1], :nextjournal/value "(y t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}} {:path [1 2], :nextjournal/value "(z t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5ds13LQnLy4JBhdcB8mcTbkSXo5pEP-result-1"}}, :nextjournal/blob-id "5ds7An9ucVzFuTkh4WQNEVqdBrJVSg"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5ds13LQnLy4JBhdcB8mcTbkSXo5pEP-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dr9rrTx9SyVcdp1Wj88bCrRvuxNGW"} [:p [:<> "=> (up (x t) (y t) (z t))"]] [:p [:<> "计算路径的导数（速度）"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dr9rrTx9SyVcdp1Wj88bCrRvuxNGW"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "((D q) 't)", :nextjournal/render-opts {:loc {:line 154, :end-line 154, :column 1, :end-column 11}, :id "pages.sicm.sicm-1-4/anon-expr-5dseSBgHYFfP98i8ZsRyNx5i7nt2Lc-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value "((D x) t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}} {:path [1 1], :nextjournal/value "((D y) t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}} {:path [1 2], :nextjournal/value "((D z) t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dseSBgHYFfP98i8ZsRyNx5i7nt2Lc-result-1"}}, :nextjournal/blob-id "5dtEAvuPcqEjzfGFyv3SYBgHn5eQa3"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dseSBgHYFfP98i8ZsRyNx5i7nt2Lc-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drtY7v79wPmXCS6eqee8Sq6rhpQwf"} [:p [:<> "=> (up ((D x) t) ((D y) t) ((D z) t))"]] ["h3" {:id "gamma-函数构造局域元组"} [:<> "Gamma 函数构造局域元组"]] [:p [:strong [:<> "局域元组 (local tuple)"]] [:<> " 包含："]] [:ul [:li [:<> [:<> "时间 t"]]] [:li [:<> [:<> "位置 q(t)"]]] [:li [:<> [:<> "速度 Dq(t)"]]] [:li [:<> [:<> "(可选) 高阶导数"]]]] [:p [:<> "Gamma 函数将路径转换为局域元组函数："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "Γ"] [:a {:href "t"} [:<> "q"]] [:<> " = (t, q(t), Dq(t), ...)"]] [:p [:<> "在 Emmy 中，Gamma 函数已经内置"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drtY7v79wPmXCS6eqee8Sq6rhpQwf"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "((Gamma q) 't)", :nextjournal/render-opts {:loc {:line 169, :end-line 169, :column 1, :end-column 15}, :id "pages.sicm.sicm-1-4/anon-expr-5dsQi42vvac39W1ikskMhmmsGGHPRw-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value t, :nextjournal/viewer {:name nextjournal.clerk.viewer/symbol-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-keyword.inspected-value (str x)])], :hash "5dtwc5kkzq7mnJapK1WH5rcPgXtaUw"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value "(x t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}} {:path [1 1 1], :nextjournal/value "(y t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}} {:path [1 1 2], :nextjournal/value "(z t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value "((D x) t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}} {:path [1 2 1], :nextjournal/value "((D y) t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}} {:path [1 2 2], :nextjournal/value "((D z) t)", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")" ")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsQi42vvac39W1ikskMhmmsGGHPRw-result-1"}}, :nextjournal/blob-id "5dtQ4Nk1wSDSvsA7B6QLMturF3WiTW"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsQi42vvac39W1ikskMhmmsGGHPRw-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5du5LJtz5VGMewmkcgMpwoFZy86oit"} [:p [:<> "=> (up t"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "(up (x t) (y t) (z t))"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "(up ((D x) t) ((D y) t) ((D z) t)))"]] [:p [:<> "现在我们可以组合 L-free-particle 和 Gamma"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "得到沿路径的拉格朗日量函数"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5du5LJtz5VGMewmkcgMpwoFZy86oit"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def L-on-path\n  \"拉格朗日量作为时间的函数\"\n  (compose (L-free-particle 'm) (Gamma q)))", :nextjournal/render-opts {:loc {:line 176, :end-line 178, :column 1, :end-column 44}, :id "pages.sicm.sicm-1-4/L-on-path-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[clojure.lang.AFunction$1 0x2e9d2c1f \"clojure.lang.AFunction$1@2e9d2c1f\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/L-on-path-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/L-on-path-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5ds7PTNvM32N7uRYZvJ6a3mkXkBHoP"} [:p [:<> "求值：计算时间 t 处的拉格朗日量"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5ds7PTNvM32N7uRYZvJ6a3mkXkBHoP"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(simplify (L-on-path 't))", :nextjournal/render-opts {:loc {:line 181, :end-line 181, :column 1, :end-column 26}, :id "pages.sicm.sicm-1-4/anon-expr-5du4A3mJum8RiTazWJ2JATe3SfvEvG-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "(+ (* 1/2 m (expt ((D x) t) 2)) (* 1/2 m (expt ((D y) t) 2)) (* 1/2 m (expt ((D z) t) 2)))", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5du4A3mJum8RiTazWJ2JATe3SfvEvG-result-1"}}, :nextjournal/blob-id "5dtNkcXkAwB9i5aaZTFmCCzFm2vRr1"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5du4A3mJum8RiTazWJ2JATe3SfvEvG-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dsmTx24EiSE9UCBQTMvCCC7BXf92A"} [:p [:<> "=> 1/2 m (Dx(t))² + 1/2 m (Dy(t))² + 1/2 m (Dz(t))²"]] [:p [:<> "用漂亮的 TeX 格式显示"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dsmTx24EiSE9UCBQTMvCCC7BXf92A"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value "\\frac{1}{2}\\,m\\,{\\left(Dx\\left(t\\right)\\right)}^{2} + \\frac{1}{2}\\,m\\,{\\left(Dy\\left(t\\right)\\right)}^{2} + \\frac{1}{2}\\,m\\,{\\left(Dz\\left(t\\right)\\right)}^{2}", :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/katex-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-katex], :hash "5du5zSBEqsKch8YdhD73mcy7u7N26P"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5du4gZJrQQct41BjTKrXuWtdPjmFUB-result"}}, :nextjournal/blob-id "5dqwwvL4zHv2k76A1Sxw5DYpVM8hcp"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5du4gZJrQQct41BjTKrXuWtdPjmFUB-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dtPmnapDi6RXfHTBxrpaoptVYHZsZ"} ["h3" {:id "拉格朗日力学的计算框架"} [:<> "拉格朗日力学的计算框架"]] [:p [:<> "完整的计算流程："]] [:ol [:li [:<> [:<> "定义拉格朗日量 L(t, q, v)"]]] [:li [:<> [:<> "定义路径 q(t)"]]] [:li [:<> [:<> "使用 Γ[q] 构造局域元组"]]] [:li [:<> [:<> "计算 L(Γ"] [:a {:href "t"} [:<> "q"]] [:<> ")"]]] [:li [:<> [:<> "对时间积分得到作用量"]]]] [:hr] ["h2" {:id "三、计算作用量"} [:<> "三、计算作用量"]] ["h3" {:id "lagrangian-action-函数"} [:<> "Lagrangian-action 函数"]] [:p [:strong [:<> "作用量 (Action)"]] [:<> " 是拉格朗日量沿路径的时间积分："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "S[q](t₁, t₂) = ∫(t₁ to t₂) L(Γ"] [:a {:href "t"} [:<> "q"]] [:<> ") dt"]] [:p [:<> "原 Scheme 代码："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(define (Lagrangian-action L q t1 t2)\n  (definite-integral (compose L (Gamma q)) t1 t2))", :nextjournal/render-opts {:language "scheme"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:p [:<> "Emmy 已经提供了 "] [:code [:<> "Lagrangian-action"]] [:<> " 函数！"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "位于 "] [:code [:<> "emmy.mechanics.lagrange"]] [:<> " 命名空间。"]] [:p [:<> "Emmy 实现："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(defn Lagrangian-action [L q t1 t2]\n  (definite-integral (compose L (Gamma q)) t1 t2))", :nextjournal/render-opts {:language "clojure"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:p [:<> "这个实现的优雅之处："]] [:ul [:li [:<> [:<> "坐标无关：不依赖于任何特定的坐标系或维度"]]] [:li [:<> [:<> "组合清晰：(Gamma q) → (L ∘ Gamma) → definite-integral"]]] [:li [:<> [:<> "通用性强：适用于任何拉格朗日量和路径"]]]] [:p [:<> "我们直接使用 Emmy 的版本："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dtPmnapDi6RXfHTBxrpaoptVYHZsZ"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def Lagrangian-action lag/Lagrangian-action)", :nextjournal/render-opts {:loc {:line 227, :end-line 227, :column 1, :end-column 46}, :id "pages.sicm.sicm-1-4/Lagrangian-action-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[emmy.mechanics.lagrange$Lagrangian_action 0xed2a448 \"emmy.mechanics.lagrange$Lagrangian_action@ed2a448\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/Lagrangian-action-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/Lagrangian-action-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5duFeX4m8a8Snt6TDYLA4VzX1zezxr"} ["h3" {:id "验证：直线路径的作用量"} [:<> "验证：直线路径的作用量"]] [:p [:<> "现在我们来测试一个具体的例子："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "一个质量为 3 的粒子沿直线匀速运动"]] [:p [:<> "路径函数：q(t) = (4t + 7, 3t + 5, 2t + 1)"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "这是一条参数化的直线，速度恒定"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5duFeX4m8a8Snt6TDYLA4VzX1zezxr"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn test-path\n  \"测试路径：三维空间中的匀速直线运动\"\n  [t]\n  (up (+ (* 4 t) 7)\n      (+ (* 3 t) 5)\n      (+ (* 2 t) 1)))", :nextjournal/render-opts {:loc {:line 237, :end-line 242, :column 1, :end-column 22}, :id "pages.sicm.sicm-1-4/test-path-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[pages.sicm.sicm_1_4$test_path 0x5c85527e \"pages.sicm.sicm_1_4$test_path@5c85527e\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/test-path-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/test-path-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dsvkRUJy8af1x9vpJQvQG3uGhaXGN"} [:p [:<> "验证路径在 t=0 时的位置"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dsvkRUJy8af1x9vpJQvQG3uGhaXGN"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(test-path 0)", :nextjournal/render-opts {:loc {:line 245, :end-line 245, :column 1, :end-column 14}, :id "pages.sicm.sicm-1-4/anon-expr-5du1C4yUBwZNj76cL2v2saRk4qSYja-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 7, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 1], :nextjournal/value 5, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 2], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5du1C4yUBwZNj76cL2v2saRk4qSYja-result-1"}}, :nextjournal/blob-id "5duAX3evYSTv2HT5wZryBCgne7ERJC"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5du1C4yUBwZNj76cL2v2saRk4qSYja-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dtjhg1zRQLUTL5zifjVP7XLFfDt2y"} [:p [:<> "=> (up 7 5 1)"]] [:p [:<> "验证路径在 t=10 时的位置"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dtjhg1zRQLUTL5zifjVP7XLFfDt2y"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(test-path 10)", :nextjournal/render-opts {:loc {:line 249, :end-line 249, :column 1, :end-column 15}, :id "pages.sicm.sicm-1-4/anon-expr-5drGAthUFejJPkC1tGbobMwMBg8o2W-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 47, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 1], :nextjournal/value 35, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 2], :nextjournal/value 21, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drGAthUFejJPkC1tGbobMwMBg8o2W-result-1"}}, :nextjournal/blob-id "5dtGjAoRTYj6TrkVaCprQAnW4oibU1"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drGAthUFejJPkC1tGbobMwMBg8o2W-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drxcomnwKqB6HFJ3Qs8krfhFgMw2Q"} [:p [:<> "=> (up 47 35 21)"]] [:p [:<> "计算速度（路径的导数）"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drxcomnwKqB6HFJ3Qs8krfhFgMw2Q"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "((D test-path) 't)", :nextjournal/render-opts {:loc {:line 253, :end-line 253, :column 1, :end-column 19}, :id "pages.sicm.sicm-1-4/anon-expr-5dsUH7PqypA8Lwfc4E8r4S5Ne3w8dq-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 4, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 1], :nextjournal/value 3, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 2], :nextjournal/value 2, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :closing-paren (")"), :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsUH7PqypA8Lwfc4E8r4S5Ne3w8dq-result-1"}}, :nextjournal/blob-id "5dtuVbgSprsAiHL111NnbpSbEy9mon"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsUH7PqypA8Lwfc4E8r4S5Ne3w8dq-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drQ2v9gDG7nGvJXA7WPPRG16W92S2"} [:p [:<> "=> (up 4 3 2)  速度恒定！"]] [:p [:<> "计算速度的大小"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drQ2v9gDG7nGvJXA7WPPRG16W92S2"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(simplify (sqrt (dot-product (up 4 3 2) (up 4 3 2))))", :nextjournal/render-opts {:loc {:line 257, :end-line 257, :column 1, :end-column 54}, :id "pages.sicm.sicm-1-4/anon-expr-5droJbaJkdPVHwmhoX7Dwo1aNMmkKz-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 5.385164807134504, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5droJbaJkdPVHwmhoX7Dwo1aNMmkKz-result-1"}}, :nextjournal/blob-id "5dr8DnLCZkVDCDCta8LT4H7RGAXUQZ"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5droJbaJkdPVHwmhoX7Dwo1aNMmkKz-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dthwrNLX2BeWpTtG2VfrcKU4dpP4U"} [:p [:<> "=> √29 ≈ 5.385"]] [:p [:<> "现在计算作用量：质量 m=3.0，从 t=0 到 t=10"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dthwrNLX2BeWpTtG2VfrcKU4dpP4U"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def action-value\n  (Lagrangian-action (L-free-particle 3.0)\n                     test-path\n                     0.0\n                     10.0))", :nextjournal/render-opts {:loc {:line 261, :end-line 265, :column 1, :end-column 28}, :id "pages.sicm.sicm-1-4/action-value-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 435.0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/action-value-result-1"}}, :nextjournal/blob-id "5drRdcEBdyo9FNmKvKkM8otWrLkxsy"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/action-value-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "action-value", :nextjournal/render-opts {:loc {:line 267, :end-line 267, :column 1, :end-column 13}, :id "pages.sicm.sicm-1-4/anon-expr-5dsSFxydT3Pxn4B8uCpQJdPmAvvFDk-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 435.0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsSFxydT3Pxn4B8uCpQJdPmAvvFDk-result-1"}}, :nextjournal/blob-id "5dshYzZFuLwTM86FJRXyJqyTk7ZuPL"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsSFxydT3Pxn4B8uCpQJdPmAvvFDk-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5duA8xXQg5AfVM9NvzCZqxYBAZGdJm"} [:p [:<> "=> 应该得到 435.0"]] [:p [:<> "验证解析解："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "对于匀速直线运动，L = 1/2 m v²（常数）"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "S = ∫(0 to 10) (1/2 × 3 × 29) dt = (1/2 × 3 × 29) × 10 = 435"]] [:p [:<> "解析验证："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5duA8xXQg5AfVM9NvzCZqxYBAZGdJm"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value "S = \\int_0^{10} \\frac{1}{2} \\times 3 \\times 29 \\, dt = \\frac{87}{2} \\times 10 = 435", :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/katex-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-katex], :hash "5du5zSBEqsKch8YdhD73mcy7u7N26P"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtxjYYovEBx8qUsdRE4avr4St4VDG-result"}}, :nextjournal/blob-id "5ds7wxkmqe6dEx3LVH3BpwZSk5YtFo"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtxjYYovEBx8qUsdRE4avr4St4VDG-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drqTUun7rWkuXnxWUgH5qbzBohAYD"} [:hr] ["h2" {:id "四、验证最小作用量原理"} [:<> "四、验证最小作用量原理"]] [:p [:<> "我们已经知道自由粒子的真实路径是直线匀速运动。"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "现在让我们用"] [:strong [:<> "路径变分"]] [:<> "的方法数值验证："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "直线路径的作用量确实小于任何邻近路径。"]] ["h3" {:id "构造变分路径"} [:<> "构造变分路径"]] [:p [:strong [:<> "核心思想"]] [:<> "："]] [:ul [:li [:<> [:<> "设 q(t) 是真实路径（直线）"]]] [:li [:<> [:<> "设 η(t) 是路径变分（满足端点为零：η(t₁) = η(t₂) = 0）"]]] [:li [:<> [:<> "设 ε 是一个小参数"]]] [:li [:<> [:<> "则 q'(t) = q(t) + ε·η(t) 是一条邻近路径"]]]] [:p [:strong [:<> "端点条件"]] [:<> "："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "为了保证变分路径与真实路径有相同的端点，"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "我们需要 η(t₁) = η(t₂) = 0"]] [:p [:strong [:<> "构造方法"]] [:<> "："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "给定任意函数 ν(t)，我们可以构造满足端点条件的 η："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "η(t) = (t - t₁)(t - t₂)·ν(t)"]] [:p [:<> "因为："]] [:ul [:li [:<> [:<> "η(t₁) = (t₁ - t₁)(t₁ - t₂)·ν(t₁) = 0"]]] [:li [:<> [:<> "η(t₂) = (t₂ - t₁)(t₂ - t₂)·ν(t₂) = 0"]]]] [:p [:<> "用 TeX 表示："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drqTUun7rWkuXnxWUgH5qbzBohAYD"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value "\\eta(t) = (t - t_1)(t - t_2) \\nu(t)", :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/katex-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-katex], :hash "5du5zSBEqsKch8YdhD73mcy7u7N26P"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsA3UESSLG42EhcNUmbGBsdMYSyYL-result"}}, :nextjournal/blob-id "5duJG8gZHKp8b6ZeQc9HhveNu6hCG5"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsA3UESSLG42EhcNUmbGBsdMYSyYL-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drVjzMFFkywUujYjrcu8xsTZnDBa8"} ["h3" {:id "实现-make-eta-函数"} [:<> "实现 make-eta 函数"]] [:p [:<> "原 Scheme 代码："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(define ((make-eta nu t1 t2) t)\n  (* (- t t1) (- t t2) (nu t)))", :nextjournal/render-opts {:language "scheme"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:p [:<> "Emmy/Clojure 实现："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drVjzMFFkywUujYjrcu8xsTZnDBa8"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn make-eta\n  \"构造满足端点条件的变分函数\n\n  参数：\n  - nu: 任意测试函数 (时间 -> 值)\n  - t1: 起始时间\n  - t2: 结束时间\n\n  返回：\n  - 变分函数 η(t) = (t - t₁)(t - t₂)·ν(t)\n  - 保证 η(t₁) = η(t₂) = 0\"\n  [nu t1 t2]\n  (fn [t]\n    (* (- t t1) (- t t2) (nu t))))", :nextjournal/render-opts {:loc {:line 321, :end-line 334, :column 1, :end-column 35}, :id "pages.sicm.sicm-1-4/make-eta-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[pages.sicm.sicm_1_4$make_eta 0xf5ae7a3 \"pages.sicm.sicm_1_4$make_eta@f5ae7a3\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/make-eta-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/make-eta-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5ds4EoEmH6kWXH6UupkM1zoWufJvDj"} [:p [:<> "测试 make-eta："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "选择 ν(t) = sin(t)，在区间 [0, π/2]"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5ds4EoEmH6kWXH6UupkM1zoWufJvDj"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def eta-test (make-eta e/sin 0.0 (* 0.5 Math/PI)))", :nextjournal/render-opts {:loc {:line 338, :end-line 338, :column 1, :end-column 52}, :id "pages.sicm.sicm-1-4/eta-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[pages.sicm.sicm_1_4$make_eta$fn__48709 0x4860cf83 \"pages.sicm.sicm_1_4$make_eta$fn__48709@4860cf83\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/eta-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/eta-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5ds2Rx8Cr564ipK2N2cA1MsBXmYBnG"} [:p [:<> "验证端点条件："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5ds2Rx8Cr564ipK2N2cA1MsBXmYBnG"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(eta-test 0.0)", :nextjournal/render-opts {:loc {:line 341, :end-line 341, :column 1, :end-column 15}, :id "pages.sicm.sicm-1-4/anon-expr-5drynRK89MDSjp8Ang2fFq6n4j5UCN-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drynRK89MDSjp8Ang2fFq6n4j5UCN-result-1"}}, :nextjournal/blob-id "5du7HbEZ8C4x6sGWJgjFHKoh6ZYbE4"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drynRK89MDSjp8Ang2fFq6n4j5UCN-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dt9KCUgr6j266vb9sB41YLgqHbJug"} [:p [:<> "=> 0.0 ✓"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dt9KCUgr6j266vb9sB41YLgqHbJug"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(eta-test (* 0.5 Math/PI))", :nextjournal/render-opts {:loc {:line 344, :end-line 344, :column 1, :end-column 27}, :id "pages.sicm.sicm-1-4/anon-expr-5ds8X24ocqSHrApMFPPquakQJUMyDw-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 0.0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5ds8X24ocqSHrApMFPPquakQJUMyDw-result-1"}}, :nextjournal/blob-id "5drScwWjr951GCSNVEWaqjmX9SgYd1"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5ds8X24ocqSHrApMFPPquakQJUMyDw-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dtRB3WQKGyWDfH2nUwN1njW7vsymR"} [:p [:<> "=> 0.0 ✓"]] [:p [:<> "中间某点的值（应该非零）："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dtRB3WQKGyWDfH2nUwN1njW7vsymR"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(eta-test 1.0)", :nextjournal/render-opts {:loc {:line 348, :end-line 348, :column 1, :end-column 15}, :id "pages.sicm.sicm-1-4/anon-expr-5dsJQ7Z2dK7zoecF9MQet7M2WWM2As-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value -0.4803085472328315, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsJQ7Z2dK7zoecF9MQet7M2WWM2As-result-1"}}, :nextjournal/blob-id "5dr8ND5nTkTNsnbcXvRmuk16xg8usU"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsJQ7Z2dK7zoecF9MQet7M2WWM2As-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dtyKSpDLHzGSeUD4r3hvh79fZ694d"} [:p [:<> "=> 一个非零值"]] ["h3" {:id "实现变分作用量函数"} [:<> "实现变分作用量函数"]] [:p [:<> "现在我们需要一个函数来计算"] [:strong [:<> "变分路径"]] [:<> "的作用量，"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "作为参数 ε 的函数。"]] [:p [:strong [:<> "变分路径"]] [:<> "：q'(t) = q(t) + ε·η(t)"]] [:p [:<> "在 Emmy 中，路径是函数，可以用 "] [:code [:<> "+"]] [:<> " 和 "] [:code [:<> "*"]] [:<> " 组合："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "(+ q (* eps eta)) 表示 t ↦ q(t) + ε·η(t)"]] [:p [:<> "原 Scheme 代码："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(define ((varied-free-particle-action mass q nu t1 t2) eps)\n  (let ((eta (make-eta nu t1 t2)))\n    (Lagrangian-action\n      (L-free-particle mass)\n      (+ q (* eps eta))\n      t1\n      t2)))", :nextjournal/render-opts {:language "scheme"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:p [:<> "Emmy/Clojure 实现："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dtyKSpDLHzGSeUD4r3hvh79fZ694d"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn varied-free-particle-action\n  \"计算变分路径的作用量（作为 ε 的函数）\n\n  参数：\n  - mass: 粒子质量\n  - q: 原始路径函数\n  - nu: 变分测试函数\n  - t1: 起始时间\n  - t2: 结束时间\n\n  返回：\n  - 函数 ε ↦ S[q + ε·η]，其中 η = make-eta(nu, t1, t2)\"\n  [mass q nu t1 t2]\n  (let [eta (make-eta nu t1 t2)]\n    (fn [eps]\n      (Lagrangian-action\n        (L-free-particle mass)\n        (+ q (* eps eta))  ; 变分路径：q + ε·η\n        t1\n        t2))))", :nextjournal/render-opts {:loc {:line 373, :end-line 392, :column 1, :end-column 15}, :id "pages.sicm.sicm-1-4/varied-free-particle-action-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[pages.sicm.sicm_1_4$varied_free_particle_action 0x538bc223 \"pages.sicm.sicm_1_4$varied_free_particle_action@538bc223\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/varied-free-particle-action-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/varied-free-particle-action-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5duCFhooj8bkfEzsjeyNUby9cXK3Ri"} ["h3" {:id "数值验证：直线路径是极小值"} [:<> "数值验证：直线路径是极小值"]] [:p [:<> "使用我们之前的测试路径（直线匀速运动）："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "test-path(t) = (4t + 7, 3t + 5, 2t + 1)"]] [:p [:<> "我们知道它的作用量是 435.0（从 t=0 到 t=10）"]] [:p [:<> "现在加上一个变分：ν(t) = (sin(t), cos(t), t²)"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "并选择 ε = 0.001（一个小扰动）"]] [:p [:<> "计算变分路径的作用量："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5duCFhooj8bkfEzsjeyNUby9cXK3Ri"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def varied-action\n  (varied-free-particle-action\n    3.0              ; 质量\n    test-path        ; 直线路径\n    (up e/sin e/cos square)  ; 变分函数\n    0.0              ; t₁\n    10.0))           ; t₂", :nextjournal/render-opts {:loc {:line 405, :end-line 411, :column 1, :end-column 11}, :id "pages.sicm.sicm-1-4/varied-action-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[pages.sicm.sicm_1_4$varied_free_particle_action$fn__48712 0x25eb6c8e \"pages.sicm.sicm_1_4$varied_free_particle_action$fn__48712@25eb6c8e\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/varied-action-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/varied-action-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drDg8kktz4jAtMa9YZZfhBDAWF6BD"} [:p [:<> "ε = 0 时（无变分）："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drDg8kktz4jAtMa9YZZfhBDAWF6BD"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(varied-action 0.0)", :nextjournal/render-opts {:loc {:line 414, :end-line 414, :column 1, :end-column 20}, :id "pages.sicm.sicm-1-4/anon-expr-5dtrM8UC4vQTiBHEzwyCtfAEngDVo4-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 435.0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtrM8UC4vQTiBHEzwyCtfAEngDVo4-result-1"}}, :nextjournal/blob-id "5dtkppoijNFKwWqjDUResjfqBDSEd7"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtrM8UC4vQTiBHEzwyCtfAEngDVo4-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5du5nLqJYaUrGrzbVegCsZBMeERvFE"} [:p [:<> "=> 435.0（原始作用量）"]] [:p [:<> "ε = 0.001 时（小扰动）："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5du5nLqJYaUrGrzbVegCsZBMeERvFE"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(varied-action 0.001)", :nextjournal/render-opts {:loc {:line 418, :end-line 418, :column 1, :end-column 22}, :id "pages.sicm.sicm-1-4/anon-expr-5dtFroC5i7LsFQW7F9TC1CQPF3voty-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 436.2912142857117, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtFroC5i7LsFQW7F9TC1CQPF3voty-result-1"}}, :nextjournal/blob-id "5duJY5yWXVQaWszW1EGhtKt5wM3cXg"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtFroC5i7LsFQW7F9TC1CQPF3voty-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dsiMCwoSJsfAModeTm3tUhzgUBZsn"} [:p [:<> "=> 应该 > 435.0（验证最小性）"]] [:p [:<> "ε = -0.001 时（反向扰动）："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dsiMCwoSJsfAModeTm3tUhzgUBZsn"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(varied-action -0.001)", :nextjournal/render-opts {:loc {:line 422, :end-line 422, :column 1, :end-column 23}, :id "pages.sicm.sicm-1-4/anon-expr-5dri1WF3TQWmGoQUk1rWbcr2aaeqgD-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 436.29121431326763, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dri1WF3TQWmGoQUk1rWbcr2aaeqgD-result-1"}}, :nextjournal/blob-id "5drx54Z779wJUBV1ViLSvLBX122pi9"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dri1WF3TQWmGoQUk1rWbcr2aaeqgD-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dsTWEDntkkkgczG13kP6FXSgtv6Nn"} [:p [:<> "=> 应该 > 435.0（验证最小性）"]] [:p [:<> "绘制作用量关于 ε 的曲线："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "我们期望看到一个在 ε = 0 处有极小值的抛物线"]] ["h3" {:id "用数值方法寻找最优-ε"} [:<> "用数值方法寻找最优 ε"]] [:p [:<> "Emmy 提供了 "] [:code [:<> "minimize"]] [:<> " 函数来寻找函数的最小值。"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "我们可以用它来验证：ε = 0 确实使作用量最小。"]] [:p [:<> "原 Scheme 代码："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(minimize\n  (varied-free-particle-action 3.0 test-path\n    (up sin cos square)\n    0.0 10.0)\n  -2.0 1.0)\n;; => (-1.5987211554602254e-14 435.0000000000237 5)\n;;     ε ≈ 0, S ≈ 435, 迭代 5 次", :nextjournal/render-opts {:language "scheme"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:p [:<> "Emmy 中的 minimize 函数使用方法："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "(minimize f a b) 在区间 [a, b] 中寻找 f 的最小值"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "返回一个 map：{:result x, :value f(x), :iterations n, :converged? bool}"]] [:p [:<> "我们在 [-2.0, 1.0] 区间搜索："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dsTWEDntkkkgczG13kP6FXSgtv6Nn"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def minimization-result\n  (e/minimize varied-action -2.0 1.0))", :nextjournal/render-opts {:loc {:line 449, :end-line 450, :column 1, :end-column 39}, :id "pages.sicm.sicm-1-4/minimization-result-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :converged?, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 0 1], :nextjournal/value true, :nextjournal/viewer {:name nextjournal.clerk.viewer/boolean-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-bool.inspected-value (str x)])], :hash "5drYZi1ixy8HcW8uKJ6GoMNhasTEGB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :fncalls, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 1 1], :nextjournal/value 20, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value :iterations, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 2 1], :nextjournal/value 19, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value :result, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 3 1], :nextjournal/value 2.9802238177427906E-8, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 4], :nextjournal/value [{:path [1 4 0], :nextjournal/value :value, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 4 1], :nextjournal/value 434.9999477302537, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-map], :opening-paren "{", :closing-paren ("}"), :page-size 10, :hash "5drc3ac5ux7kS4h2vozdxwsrKDqSmn"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/minimization-result-result-1"}}, :nextjournal/blob-id "5dsw5Yix2bq7NWH1Z88gJTYxnPaZWW"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/minimization-result-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drhREEHNFuZ9ZhMUVEqJnqNggVC6U"} [:p [:<> "提取关键信息："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drhREEHNFuZ9ZhMUVEqJnqNggVC6U"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id nil} [:p [:strong [:<> "最小化结果"]] [:<> "："]] [:ul [:li [:<> [:<> "最优 ε = 2.9802238177427906E-8 （≈ 0）"]]] [:li [:<> [:<> "最小作用量 = 434.9999477302537 （≈ 435.0）"]]] [:li [:<> [:<> "迭代次数 = 19"]]] [:li [:<> [:<> "收敛状态 = true"]]]]], :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dr81d5kJqkynJg4irpSVBcCXxhWJM-result"}}, :nextjournal/blob-id "5dtPn7eMqTvzrHv8nU5g2tH7F7wqVR"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dr81d5kJqkynJg4irpSVBcCXxhWJM-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drFGi4oVu4yteNTdLJo5WyJHoNsp6"} [:p [:strong [:<> "结论"]] [:<> "："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "数值优化确认了我们的物理直觉："]] [:ul [:li [:<> [:<> "ε ≈ 0 时作用量最小（最优 ε ≈ 2.98 × 10⁻⁸，非常接近零）"]]] [:li [:<> [:<> "最小作用量 ≈ 435.0，与直线路径的作用量一致"]]] [:li [:<> [:<> "这意味着直线路径（test-path）就是真实的物理路径"]]] [:li [:<> [:<> "任何偏离直线的路径都会增加作用量"]]]] [:hr] ["h2" {:id "五、谐振子（第一个非平凡系统）"} [:<> "五、谐振子（第一个非平凡系统）"]] [:p [:<> "自由粒子只有动能，拉格朗日量 L = T（动能）。"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "现在我们研究一个更有趣的系统："] [:strong [:<> "谐振子"]] [:<> "（harmonic oscillator）。"]] ["h3" {:id "谐振子的物理模型"} [:<> "谐振子的物理模型"]] [:p [:strong [:<> "经典例子"]] [:<> "：弹簧-质量系统"]] [:ul [:li [:<> [:<> "一个质量为 m 的物体"]]] [:li [:<> [:<> "连接到一个弹簧常数为 k 的弹簧"]]] [:li [:<> [:<> "在一维空间中运动"]]]] [:p [:strong [:<> "能量组成"]] [:<> "："]] [:ul [:li [:<> [:<> "动能：T = 1/2 m v²"]]] [:li [:<> [:<> "势能：V = 1/2 k q²（弹簧弹性势能）"]]]] [:p [:strong [:<> "拉格朗日量"]] [:<> "："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "L = T - V = 1/2 m v² - 1/2 k q²"]] [:p [:<> "用 TeX 表示："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drFGi4oVu4yteNTdLJo5WyJHoNsp6"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value "L(t, q, v) = \\frac{1}{2} m v^2 - \\frac{1}{2} k q^2", :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/katex-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-katex], :hash "5du5zSBEqsKch8YdhD73mcy7u7N26P"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dstYDyJeo5dwnvQuV3o4YpJqoAcgT-result"}}, :nextjournal/blob-id "5dtrkpmHSsJSSsKVmYdPsUnU5gNMcg"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dstYDyJeo5dwnvQuV3o4YpJqoAcgT-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5du1FSfUn4fXKuXuQsuzamUQ5Q2gYq"} ["h3" {:id "实现谐振子拉格朗日量"} [:<> "实现谐振子拉格朗日量"]] [:p [:<> "原 Scheme 代码："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(define ((L-harmonic m k) local)\n  (let ((q (coordinate local))\n        (v (velocity local)))\n    (- (* 1/2 m (square v)) (* 1/2 k (square q)))))", :nextjournal/render-opts {:language "scheme"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:p [:<> "Emmy/Clojure 实现："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5du1FSfUn4fXKuXuQsuzamUQ5Q2gYq"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn L-harmonic\n  \"谐振子的拉格朗日量\n\n  参数：\n  - m: 质量\n  - k: 弹簧常数\n\n  返回：\n  - 接受局域元组的函数，返回 L = 1/2 m v² - 1/2 k q²\"\n  [m k]\n  (fn [local]\n    (let [q (coordinate local)\n          v (velocity local)]\n      (- (* 1/2 m (square v))\n         (* 1/2 k (square q))))))", :nextjournal/render-opts {:loc {:line 505, :end-line 519, :column 1, :end-column 34}, :id "pages.sicm.sicm-1-4/L-harmonic-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[pages.sicm.sicm_1_4$L_harmonic 0x40e0e658 \"pages.sicm.sicm_1_4$L_harmonic@40e0e658\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/L-harmonic-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/L-harmonic-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5duHinXcoo45WFDyHZsBegvSd29s9g"} ["h3" {:id "谐振子的解析解"} [:<> "谐振子的解析解"]] [:p [:<> "我们知道，谐振子的运动方程是："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "m d²q/dt² = -k q"]] [:p [:<> "或者写成标准形式："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "d²q/dt² + (k/m) q = 0"]] [:p [:<> "定义角频率 ω = √(k/m)，则："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "d²q/dt² + ω² q = 0"]] [:p [:<> "这是一个二阶常微分方程，通解为："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "q(t) = A cos(ωt + φ)"]] [:p [:<> "其中 A 是振幅，φ 是初相位，由初始条件确定。"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5duHinXcoo45WFDyHZsBegvSd29s9g"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value "q(t) = A \\cos(\\omega t + \\varphi), \\quad \\omega = \\sqrt{\\frac{k}{m}}", :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/katex-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-katex], :hash "5du5zSBEqsKch8YdhD73mcy7u7N26P"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drvXQNmyGBYBxViTzDQ9jtBAWrTyc-result"}}, :nextjournal/blob-id "5dtuP2CFgREwxfVZpYcQjhhqW25JoQ"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drvXQNmyGBYBxViTzDQ9jtBAWrTyc-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dszHksF1vKKJ4cSBz3Xtw4gRu6hyS"} ["h3" {:id "特例：m-=-1,-k-=-1"} [:<> "特例：m = 1, k = 1"]] [:p [:<> "当 m = 1, k = 1 时："]] [:ul [:li [:<> [:<> "ω = 1"]]] [:li [:<> [:<> "通解：q(t) = A cos(t + φ)"]]]] [:p [:strong [:<> "端点条件"]] [:<> "："]] [:ul [:li [:<> [:<> "q(0) = 1"]]] [:li [:<> [:<> "q(π/2) = 0"]]]] [:p [:<> "从 q(0) = 1："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "A cos(φ) = 1"]] [:p [:<> "从 q(π/2) = 0："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "A cos(π/2 + φ) = 0"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "=> A sin(φ) = 0  （因为 cos(π/2 + φ) = -sin(φ)）"]] [:p [:<> "如果 A ≠ 0，则 sin(φ) = 0，即 φ = 0 或 π"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "由 A cos(φ) = 1 得："]] [:ul [:li [:<> [:<> "若 φ = 0：A = 1"]]] [:li [:<> [:<> "若 φ = π：A = -1"]]]] [:p [:<> "因此解为：q(t) = cos(t) 或 q(t) = -cos(t)"]] [:p [:<> "验证 q(t) = cos(t)："]] [:ul [:li [:<> [:<> "q(0) = cos(0) = 1 ✓"]]] [:li [:<> [:<> "q(π/2) = cos(π/2) = 0 ✓"]]]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dszHksF1vKKJ4cSBz3Xtw4gRu6hyS"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id nil} [:p [:<> "对于端点条件 q(0) = 1, q(π/2) = 0，解析解为："] [:strong [:<> "q(t) = cos(t)"]]]], :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drSTQnwVo4hW3zc7iQSThQf4HShzM-result"}}, :nextjournal/blob-id "5dqqbL1XE2xqmUA7v2DhmdyViZTkfc"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drSTQnwVo4hW3zc7iQSThQf4HShzM-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dsxCgxmc7xPKNBStS7P2R18C9CLMT"} [:hr] ["h2" {:id "六、数值求解：寻找使作用量最小的轨迹"} [:<> "六、数值求解：寻找使作用量最小的轨迹"]] [:p [:<> "前面我们验证了已知路径是否使作用量最小。"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "现在我们要解决逆问题："] [:strong [:<> "给定端点条件，如何找到真实轨迹？"]]] ["h3" {:id "核心思想：参数化路径族"} [:<> "核心思想：参数化路径族"]] [:p [:strong [:<> "策略"]] [:<> "："]] [:ol [:li [:<> [:<> "构造一个"] [:strong [:<> "参数化的路径族"]] [:<> "，所有路径都满足端点条件"]]] [:li [:<> [:<> "将作用量表示为参数的函数"]]] [:li [:<> [:<> "用数值优化方法找到使作用量最小的参数"]]] [:li [:<> [:<> "得到的路径就是对真实轨迹的近似"]]]] [:p [:strong [:<> "参数化方法"]] [:<> "：拉格朗日插值多项式"]] [:ul [:li [:<> [:<> "给定端点 (t₀, q₀) 和 (t₁, q₁)"]]] [:li [:<> [:<> "给定 n 个中间点的坐标 [q₁', q₂', ..., qₙ']"]]] [:li [:<> [:<> "构造一个多项式，穿过所有这些点"]]] [:li [:<> [:<> "改变中间点的坐标，就得到不同的路径"]]]] ["h3" {:id "拉格朗日插值多项式"} [:<> "拉格朗日插值多项式"]] [:p [:<> "给定 n+1 个点 (t₀, q₀), (t₁, q₁), ..., (tₙ, qₙ)，"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "拉格朗日插值多项式为："]] [:p [:<> "L(t) = Σᵢ qᵢ · ℓᵢ(t)"]] [:p [:<> "其中基函数 ℓᵢ(t) = ∏_{j≠i} (t - tⱼ)/(tᵢ - tⱼ)"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dsxCgxmc7xPKNBStS7P2R18C9CLMT"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value "L(t) = \\sum_{i=0}^{n} q_i \\cdot \\ell_i(t), \\quad \\ell_i(t) = \\prod_{j \\neq i} \\frac{t - t_j}{t_i - t_j}", :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/katex-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-katex], :hash "5du5zSBEqsKch8YdhD73mcy7u7N26P"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtjeJWicPhbVfJMHsEecMjXn4YnD9-result"}}, :nextjournal/blob-id "5drGCjLu1GaJ9ePsFGJ3f2uN9pWTM6"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtjeJWicPhbVfJMHsEecMjXn4YnD9-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dtpXLZv3pqkDvQMZRTBrFyDqbb9dM"} [:p [:<> "Emmy 在 "] [:code [:<> "emmy.mechanics.lagrange"]] [:<> " 命名空间中已经提供了这些函数！"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "我们直接使用即可，不需要自己实现。"]] ["h3" {:id "使用-emmy-的-make-path-函数"} [:<> "使用 Emmy 的 make-path 函数"]] [:p [:<> "Emmy 提供的 "] [:code [:<> "lag/make-path"]] [:<> " 函数："]] [:ul [:li [:<> [:<> "输入：(t₀, q₀), (t₁, q₁), 以及中间点的坐标列表"]]] [:li [:<> [:<> "输出：一个路径函数 t ↦ q(t)"]]] [:li [:<> [:<> "内部使用拉格朗日插值多项式实现"]]]] [:p [:<> "测试 make-path："] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "构造一条从 (0, 1) 到 (π/2, 0) 的路径，"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "中间点选择 [0.8, 0.6]（只是随机选择）"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dtpXLZv3pqkDvQMZRTBrFyDqbb9dM"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def test-harmonic-path\n  (lag/make-path 0.0 1.0 (* 0.5 Math/PI) 0.0 [0.8 0.6]))", :nextjournal/render-opts {:loc {:line 621, :end-line 622, :column 1, :end-column 57}, :id "pages.sicm.sicm-1-4/test-harmonic-path-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[emmy.polynomial.Polynomial 0x1a6d31b3 \"1: (1.0*{} + -0.6366197723675813*{0 1} + 0.7295125222248315*{0 2} + -0.46442209583807226*{0 3})\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/test-harmonic-path-result-1"}}, :nextjournal/blob-id "5dqog1cjVEfZaWKQi8R4zj6Nv9aqCy"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/test-harmonic-path-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dtqyRczByGHa5kFp8cf54SynmSfYW"} [:p [:<> "验证端点："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dtqyRczByGHa5kFp8cf54SynmSfYW"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(test-harmonic-path 0.0)", :nextjournal/render-opts {:loc {:line 625, :end-line 625, :column 1, :end-column 25}, :id "pages.sicm.sicm-1-4/anon-expr-5drVumWuNw4KqiuDGMVfPF76ks8jv6-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 1.0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drVumWuNw4KqiuDGMVfPF76ks8jv6-result-1"}}, :nextjournal/blob-id "5dsQZXyWw3dUqsVrfjvaEyaQ7NkFC8"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5drVumWuNw4KqiuDGMVfPF76ks8jv6-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dsamv1LTMJ98bQeDQ67S1Tz8ZmtQj"} [:p [:<> "=> 应该 ≈ 1.0"]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dsamv1LTMJ98bQeDQ67S1Tz8ZmtQj"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(test-harmonic-path (* 0.5 Math/PI))", :nextjournal/render-opts {:loc {:line 628, :end-line 628, :column 1, :end-column 37}, :id "pages.sicm.sicm-1-4/anon-expr-5dstY74qzXvAeTdutYNWMzyzJNExWB-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 6.661338147750939E-16, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dstY74qzXvAeTdutYNWMzyzJNExWB-result-1"}}, :nextjournal/blob-id "5ds4MfcrngHH8zB6Uy9A3gijwpZ9As"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dstY74qzXvAeTdutYNWMzyzJNExWB-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drJ8uf47c8afazKsJrjo3RYjZuec5"} [:p [:<> "=> 应该 ≈ 0.0"]] [:p [:<> "中间某点："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drJ8uf47c8afazKsJrjo3RYjZuec5"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(test-harmonic-path 0.8)", :nextjournal/render-opts {:loc {:line 632, :end-line 632, :column 1, :end-column 25}, :id "pages.sicm.sicm-1-4/anon-expr-5dtvKb9yvGVwFjnyYcvD92nHPBcpBn-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 0.7198080832607341, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtvKb9yvGVwFjnyYcvD92nHPBcpBn-result-1"}}, :nextjournal/blob-id "5dqp3EfAR5T4chz1EtM3NXqVeW5GdY"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dtvKb9yvGVwFjnyYcvD92nHPBcpBn-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dstnn4xrXTQM6HBB3qH5e6QDFc2K2"} [:p [:<> "=> 某个值"]] ["h3" {:id "使用-emmy-的-find-path-函数"} [:<> "使用 Emmy 的 find-path 函数"]] [:p [:<> "Emmy 已经提供了完整的 "] [:code [:<> "find-path"]] [:<> " 实现！"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "它内部使用了："]] [:ul [:li [:<> [:code [:<> "linear-interpolants"]] [:<> "：生成初始猜测"]]] [:li [:<> [:code [:<> "parametric-path-action"]] [:<> "：参数化作用量"]]] [:li [:<> [:code [:<> "multidimensional-minimize"]] [:<> "：多维优化"]]]] [:p [:strong [:<> "算法流程"]] [:<> "："]] [:ol [:li [:<> [:<> "选择中间点的初始猜测（端点之间的线性插值）"]]] [:li [:<> [:<> "定义参数化作用量函数：qs ↦ S[make-path(..., qs)]"]]] [:li [:<> [:<> "用多维优化算法寻找使作用量最小的 qs"]]] [:li [:<> [:<> "返回对应的路径"]]]] [:p [:<> "Emmy 源码中的实现："]] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:div.code-viewer.code-listing [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:path [0], :nextjournal/value "(defn find-path [Lagrangian t0 q0 t1 q1 n]\n  (let [initial-qs (linear-interpolants q0 q1 n)\n        minimizing-qs (multidimensional-minimize\n                        (parametric-path-action Lagrangian t0 q0 t1 q1)\n                        initial-qs)]\n    (make-path t0 q0 t1 q1 minimizing-qs)))", :nextjournal/render-opts {:language "clojure"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] ["h3" {:id "用谐振子验证-find-path"} [:<> "用谐振子验证 find-path"]] [:p [:<> "现在我们可以用谐振子来测试数值求解方法："]] [:ul [:li [:<> [:<> "已知解析解：q(t) = cos(t)"]]] [:li [:<> [:<> "端点条件：q(0) = 1, q(π/2) = 0"]]] [:li [:<> [:<> "参数：m = 1, k = 1"]]]] [:p [:<> "用 3 个中间点寻找路径："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dstnn4xrXTQM6HBB3qH5e6QDFc2K2"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def harmonic-solution\n  (lag/find-path (L-harmonic 1.0 1.0)\n                 0.0 1.0\n                 (* 0.5 Math/PI) 0.0\n                 3))", :nextjournal/render-opts {:loc {:line 667, :end-line 671, :column 1, :end-column 21}, :id "pages.sicm.sicm-1-4/harmonic-solution-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[emmy.polynomial.Polynomial 0x184d3cc3 \"1: (0.9999999999999999*{} + 0.002014527898073215*{0 1} + -0.5127747212600422*{0 2} + 0.022442469684206934*{0 3} + 0.02875695785610377*{0 4})\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/harmonic-solution-result-1"}}, :nextjournal/blob-id "5dsUjDr9AEnTwmaxMoTEEXKgg6pERF"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/harmonic-solution-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5drmv2JYLTUtv2C8WKLL8NyfSMoPsF"} [:p [:<> "测试几个点，与解析解 cos(t) 比较："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5drmv2JYLTUtv2C8WKLL8NyfSMoPsF"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def comparison-points\n  (for [t [0.0 0.5 1.0 (* 0.5 Math/PI)]]\n    {:t t\n     :numerical (harmonic-solution t)\n     :analytical (e/cos t)\n     :error (e/abs (- (harmonic-solution t) (e/cos t)))}))", :nextjournal/render-opts {:loc {:line 674, :end-line 679, :column 1, :end-column 59}, :id "pages.sicm.sicm-1-4/comparison-points-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value [{:path [1 0 0 0], :nextjournal/value :analytical, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 0 0 1], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 0 1], :nextjournal/value [{:path [1 0 1 0], :nextjournal/value :error, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 0 1 1], :nextjournal/value 1.1102230246251565E-16, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 0 2], :nextjournal/value [{:path [1 0 2 0], :nextjournal/value :numerical, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 0 2 1], :nextjournal/value 0.9999999999999999, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 0 3], :nextjournal/value [{:path [1 0 3 0], :nextjournal/value :t, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 0 3 1], :nextjournal/value 0.0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-map], :opening-paren "{", :closing-paren ("}"), :page-size 10, :hash "5drc3ac5ux7kS4h2vozdxwsrKDqSmn"}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value [{:path [1 1 0 0], :nextjournal/value :analytical, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 1 0 1], :nextjournal/value 0.8775825618903728, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 1 1], :nextjournal/value [{:path [1 1 1 0], :nextjournal/value :error, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 1 1 1], :nextjournal/value 1.6635967981459832E-4, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 1 2], :nextjournal/value [{:path [1 1 2 0], :nextjournal/value :numerical, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 1 2 1], :nextjournal/value 0.8774162022105582, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 1 3], :nextjournal/value [{:path [1 1 3 0], :nextjournal/value :t, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 1 3 1], :nextjournal/value 0.5, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-map], :opening-paren "{", :closing-paren ("}"), :page-size 10, :hash "5drc3ac5ux7kS4h2vozdxwsrKDqSmn"}} {:path [1 2], :nextjournal/value [{:path [1 2 0], :nextjournal/value [{:path [1 2 0 0], :nextjournal/value :analytical, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 2 0 1], :nextjournal/value 0.5403023058681398, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 2 1], :nextjournal/value [{:path [1 2 1 0], :nextjournal/value :error, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 2 1 1], :nextjournal/value 1.3692831020195584E-4, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 2 2], :nextjournal/value [{:path [1 2 2 0], :nextjournal/value :numerical, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 2 2 1], :nextjournal/value 0.5404392341783417, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 2 3], :nextjournal/value [{:path [1 2 3 0], :nextjournal/value :t, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 2 3 1], :nextjournal/value 1.0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-map], :opening-paren "{", :closing-paren ("}"), :page-size 10, :hash "5drc3ac5ux7kS4h2vozdxwsrKDqSmn"}} {:path [1 3], :nextjournal/value [{:path [1 3 0], :nextjournal/value [{:path [1 3 0 0], :nextjournal/value :analytical, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 3 0 1], :nextjournal/value 6.123233995736766E-17, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 3 1], :nextjournal/value [{:path [1 3 1 0], :nextjournal/value :error, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 3 1 1], :nextjournal/value 5.3788604807058995E-15, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 3 2], :nextjournal/value [{:path [1 3 2 0], :nextjournal/value :numerical, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 3 2 1], :nextjournal/value 5.440092820663267E-15, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}} {:path [1 3 3], :nextjournal/value [{:path [1 3 3 0], :nextjournal/value :t, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [1 3 3 1], :nextjournal/value 1.5707963267948966, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose " ")) xs))], :page-size 2, :hash "5dsRuzZximgoCTqHkts5WgKf7zc8xg"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-map], :opening-paren "{", :closing-paren ("}" ")"), :page-size 10, :hash "5drc3ac5ux7kS4h2vozdxwsrKDqSmn"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/sequential-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "(", :page-size 20, :hash "5dsgY1QgV2KqnvvrRRC3HXgCeF3Qge"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/comparison-points-result-1"}}, :nextjournal/blob-id "5dtAFDfLBzW2d7hKFDnAdo1ech4cGf"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/comparison-points-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :t, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [0 0 1], :nextjournal/value :numerical, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [0 0 2], :nextjournal/value :analytical, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}} {:path [0 0 3], :nextjournal/value :error, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] [:span.cmt-atom.inspected-value (str x)])], :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-head-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-head], :hash "5dtHDuFtYBTw6DAvA5nirLPpNhWKUQ"}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value [{:path [0 1 0 0], :nextjournal/value 0.0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 0 1], :nextjournal/value 0.9999999999999999, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 0 2], :nextjournal/value 1, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 0 3], :nextjournal/value 1.1102230246251565E-16, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-row-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-row], :hash "5drXEtE7GU2i9VCUHQoSvojFaMGYVX"}} {:path [0 1 1], :nextjournal/value [{:path [0 1 1 0], :nextjournal/value 0.5, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 1 1], :nextjournal/value 0.8774162022105582, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 1 2], :nextjournal/value 0.8775825618903728, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 1 3], :nextjournal/value 1.6635967981459832E-4, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-row-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-row], :hash "5drXEtE7GU2i9VCUHQoSvojFaMGYVX"}} {:path [0 1 2], :nextjournal/value [{:path [0 1 2 0], :nextjournal/value 1.0, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 2 1], :nextjournal/value 0.5404392341783417, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 2 2], :nextjournal/value 0.5403023058681398, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 2 3], :nextjournal/value 1.3692831020195584E-4, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-row-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-row], :hash "5drXEtE7GU2i9VCUHQoSvojFaMGYVX"}} {:path [0 1 3], :nextjournal/value [{:path [0 1 3 0], :nextjournal/value 1.5707963267948966, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 3 1], :nextjournal/value 5.440092820663267E-15, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 3 2], :nextjournal/value 6.123233995736766E-17, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}} {:path [0 1 3 3], :nextjournal/value 5.3788604807058995E-15, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-number], :hash "5drKG2QY8FdneyY398Yra3C36WTTE7"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-row-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-row], :hash "5drXEtE7GU2i9VCUHQoSvojFaMGYVX"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/table-body-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-body], :hash "5drQGFYRwE7LYkwfBJZPDGzstcupEc"}}], :nextjournal/width :wide, :nextjournal/render-opts {:num-cols 4, :number-col? #{0 1 3 2}, :id "pages.sicm.sicm-1-4/anon-expr-5duLmaqCfU5ZSeJs56AcGGKNn79yTt-result"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/table-markup-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.table/render-table-markup], :hash "5dt19ccJPC8q3wuzv8JRnhqGzjDKRB"}}, :nextjournal/blob-id "5dtnoiU6mcdFrhxdXu7MtxdoLpVChK"}, :nextjournal/width :wide, :nextjournal/render-opts {:num-cols 4, :number-col? #{0 1 3 2}, :id "pages.sicm.sicm-1-4/anon-expr-5duLmaqCfU5ZSeJs56AcGGKNn79yTt-result"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "pages.sicm.sicm-1-4/markdown-5dr16VeWxhjyhoruyFCzpmDPFYWE1o"} [:p [:<> "计算最大误差："]]], :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/markdown-5dr16VeWxhjyhoruyFCzpmDPFYWE1o"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def max-error\n  (apply max (map :error comparison-points)))", :nextjournal/render-opts {:loc {:line 685, :end-line 686, :column 1, :end-column 46}, :id "pages.sicm.sicm-1-4/max-error-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 1.6635967981459832E-4, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/max-error-result-1"}}, :nextjournal/blob-id "5dqpAU2mV49zJJYTfjVhyMdG2yAHzC"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/max-error-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id nil} [:p [:strong [:<> "数值解与解析解对比"]]] [:p [:<> "最大误差：1.6635967981459832E-4"]] [:p [:<> "使用 3 个中间点的多项式近似，"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "我们得到了一个与解析解 cos(t) 非常接近的数值解。"]]], :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsA8ov6QD5fA7j9X4Yt7gQjqXtASn-result"}}, :nextjournal/blob-id "5dsTRZj2pek2svjhZrgNxuhE8CbZfU"}, :nextjournal/render-opts {:id "pages.sicm.sicm-1-4/anon-expr-5dsA8ov6QD5fA7j9X4Yt7gQjqXtASn-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-notebook], :hash "5duAFDxE4sCnRX71Wo6zeCpC9C3djE"}}